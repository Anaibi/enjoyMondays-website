@mixin setLayoutHeights($h, $f) {

  #main-header { height: $h; }

  #sections {

    &::before { height: $h; }

    .section {
      height: 100%;
      min-height: calc(100vh - #{$h});

      &.last {
        $th: $h + $f;
        min-height: calc(100vh - #{$th});
      }
    }
  }
}


// ----------------------------------- HTML and BODY
html {
  height: 100%;
  // add some kind of js detectable mark
  @include respond-to(landscape) { content: "isLandscape"; }
}

body {
  margin: 0;
  overflow-x: hidden;
  overflow-y: scroll;

  @include respond-to(medium) { text-align: center; }
}

p { padding-bottom: .3em; }


// ------------------------------------ STATE 1
.state1 {

  @include setLayoutHeights($header_h_1, $footer_h_1);

  @include respond-to(small) { @include setLayoutHeights($header_h_3, $footer_h_1); }

  @include respond-to(smallest) { @include setLayoutHeights($header_h_4, $footer_h_1); }

  @include respond-to(landscape) { @include setLayoutHeights($header_h_5, $footer_h_2); }
}


// ------------------------------------ STATE 2
.state2 {

  @include setLayoutHeights($header_h_2, $footer_h_1);

  @include respond-to(small) { @include setLayoutHeights($header_h_3, $footer_h_2); }

  @include respond-to(smallest) { @include setLayoutHeights($header_h_4, $footer_h_2); }

  @include respond-to(landscape) { @include setLayoutHeights($header_h_5, $footer_h_2); }
}


// --------------------------------- CONTAINER CLASS
.container {
  max-width: $max_layout_width;
  height: 100%;
  margin: 0 auto;
  padding: 0 percentage($layout_padding/$max_layout_width);
  @extend %clearfix;
}


// ----------------------------------- CONTENT CLASS
.content {
  clear: both;
  text-align: center;
  padding: 0 8% 12%;
  // TODO check this
  @include respond-to(large) {
     @include respond-to(medium, min) {
        padding: 0 0 12%;
    }
  }
  @include respond-to(medium) { padding: 0 0 12%; }
  @include respond-to(landscape) { padding: 0 0 12%; }
}

// ------------------------------------- MAIN HEADER

@include mainHeader;


// ---------------------------------------- SECTIONS
#sections {
  &::before {
    content: " ";
    display: block;
    width: 100%;
  }
}


// ----------------------------------------- SECTION
.section {
  text-align: right;
  @include respond-to(medium) { text-align: center; }
}

// ---------------------------------- HEADER WRAPPER

@include headerWrapper;


// -------------------------------------- SUB-HEADER

.sub-header {

  text-align: center;

  hr {
    border: 0;
    height: 3px;
    width: 20%;
    @include respond-to(medium) { width: 15%; }
    margin: 2% auto 4%;
    clear: both; 
  }
}


// -------------------------------------------- GRID

@include grid;


// ------------------------------------------ FOOTER

@include footer;